
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Primitive operations</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><link rel="home" href="oxygen-main.html" title="Markup UK 2018 Proceedings" /><link rel="up" href="ar09s03.html" title="Source navigation based model" /><link rel="prev" href="ar09s03s01.html" title="Basic concepts" /><link rel="next" href="ar09s03s03.html" title="Composing document-to-document transformation" /><!--  Generated with Oxygen version 20.0-SNAPSHOT, build number 2018042310.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><script type="text/javascript" xml:space="preserve"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-3.1.1.min.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js" xml:space="preserve"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js?buildId=2018042310" xml:space="preserve"><!----></script></head><body onload="highlightSearchTerm()" class="frmBody"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td colspan="3" rowspan="1"><form name="searchForm" id="searchForm" action="javascript:void(0)" onsubmit="parent.tocwin.SearchToc(this);" method="get" enctype="application/x-www-form-urlencoded"><!----><input type="text" id="textToSearch" name="textToSearch" class="textToSearch" size="30" placeholder="Search" /><!----></form></td></tr><tr><td width="20%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar09s03s01.html" shape="rect">Prev</a></span> </td><th width="60%" align="center" rowspan="1" colspan="1"> </th><td width="20%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar09s03s03.html" shape="rect">Next</a></span></td></tr></table><hr /></div><div class="section" id="d5e3193"><div class="titlepage"><div><div><h3 class="title">Primitive operations</h3></div></div></div><p>Construction of the local instantiation of a model node is a composite operation
                which consumes as input the source context of the parent node. The operation can be
                implemented as a composition of three primitive operations given by the following
                table.</p><div class="table" id="primitive-operations"><p class="title"><strong>Table 3. Primitive operations serving as building blocks of the local instantiation of
                    a model node.</strong></p><div class="table-contents"><table class="table" summary="Primitive operations serving as building blocks of the local instantiation of&#xA;                    a model node." border="1"><colgroup span="1"><col width="21%" class="c1" span="1" /><col width="22%" class="c2" span="1" /><col width="28%" class="c3" span="1" /><col width="29%" class="c4" span="1" /></colgroup><thead><tr><th align="left" rowspan="1" colspan="1">Mapping name</th><th align="left" rowspan="1" colspan="1">Mapping input</th><th align="left" rowspan="1" colspan="1">Mapping output</th><th align="left" rowspan="1" colspan="1">Only applicable if …</th></tr></thead><tbody><tr><td align="left" rowspan="1" colspan="1">context-propagator</td><td align="left" rowspan="1" colspan="1">parent-instance.SC</td><td align="left" rowspan="1" colspan="1">Location.PSC<sub>parent-instance</sub></td><td align="left" rowspan="1" colspan="1">-</td></tr><tr><td align="left" rowspan="1" colspan="1">context-distributor</td><td align="left" rowspan="1" colspan="1">parent-instance.PSC</td><td align="left" rowspan="1" colspan="1">Location.SCA<sub>parent-instance</sub></td><td align="left" rowspan="1" colspan="1">-</td></tr><tr><td align="left" rowspan="1" colspan="1">context-atomizer</td><td align="left" rowspan="1" colspan="1">instance.SC</td><td align="left" rowspan="1" colspan="1">String (simple content)</td><td align="left" rowspan="1" colspan="1">L.has-simple-content=true</td></tr></tbody></table></div></div><br class="table-break" clear="none" /><p>The <span class="bold"><strong>context-propagator</strong></span> maps the source context of
                the parent instance to a sequence of source nodes called the <span class="ital">propagated context</span>, which is the “raw material” required for
                constructing the local instantiation of the current location. This raw material is
                used by the <span class="bold"><strong>context-distributor</strong></span> to determine the
                number of child instances and provide each one of them with a <span class="ital">source context</span>. Each of these child instances can be constructed, as
                its source context is given and no other input is required: (a) if the location
                prescribes simple content, the text value is obtained by applying the <span class="bold"><strong>context-atomizer</strong></span> to the source context; (b) if the model
                prescribes complex content, it is obtained by passing the source context to each
                attribute and child location, invoking its local instantiation. </p><p>It is interesting to note that the context-propagator is a pure navigation
                function: it maps an input sequence of nodes to an output sequence of nodes. Also
                the context-atomizer and the context-distributor consume a sequence of nodes. But
                while the context-atomizer produces a string, the output of the context-distributor
                is formally defined as an array of node sequences, with one member for each instance
                to be constructed. Note the special case of a location with cardinality 0..1, where
                the array is either empty or has a single member. In the most common case, such a
                context-distributor triggers an instance if the propagated context is non-empty, and
                it uses the propagated context as the source context of that instance. </p><p>The proposed definition of primitive operations provides a <span class="ital">bare minimum</span> of building blocks which can be composed into a complex
                document transformation. They should be regarded as primary building blocks which
                may be further decomposed into smaller units if this reduces overall complexity. For
                example, the mapping of the parent context to the propagated context may be defined
                as a sequence of three steps: an initial mapping, subsequently refined by an
                optional filter step, subsequently refined by an optional sorting step. Such smaller
                units will be defined in the context of the metadata model, as they will correspond
                to distinct metadata items.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar09s03s01.html" shape="rect">Prev</a></span> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="u" href="ar09s03.html" shape="rect">Up</a></td><td width="40%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar09s03s03.html" shape="rect">Next</a></span></td></tr><tr><td width="40%" align="left" valign="top" rowspan="1" colspan="1"> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="h" href="oxygen-main.html" shape="rect">Home</a></td><td width="40%" align="right" valign="top" rowspan="1" colspan="1"> </td></tr></table></div><div class="footer">Generated by<a class="oxyFooter" href="http://www.oxygenxml.com/xml_webhelp.html" target="_blank" shape="rect">                            
                            &lt;oXygen/&gt; XML WebHelp
                        </a></div></body></html>