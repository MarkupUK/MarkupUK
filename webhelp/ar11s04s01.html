
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Phase One: De-cluttering the Output</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><link rel="home" href="oxygen-main.html" title="Markup UK 2021 Proceedings" /><link rel="up" href="ar11s04.html" title="Phases of Operation" /><link rel="prev" href="ar11s04.html" title="Phases of Operation" /><link rel="next" href="ar11s04s02.html" title="Phase Two: Writing Out the CSS" /><!--  Generated with Oxygen version 23.1, build number 2021022614.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><script type="text/javascript" xml:space="preserve"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-3.5.1.min.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js" xml:space="preserve"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js?buildId=2021022614" xml:space="preserve"><!----></script></head><body onload="highlightSearchTerm()" class="frmBody"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td colspan="3" rowspan="1"><form name="searchForm" id="searchForm" action="javascript:void(0)" onsubmit="parent.tocwin.SearchToc(this);" method="get" enctype="application/x-www-form-urlencoded"><!----><input type="text" id="textToSearch" name="textToSearch" class="textToSearch" size="30" placeholder="Search" /><!----></form></td></tr><tr><td width="20%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar11s04.html" shape="rect">Prev</a></span> </td><th width="60%" align="center" rowspan="1" colspan="1"> </th><td width="20%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar11s04s02.html" shape="rect">Next</a></span></td></tr></table><hr /></div><div class="sect2" id="d5e4329"><div class="titlepage"><div><div><h3 class="title">Phase One: De-cluttering the Output</h3></div></div></div><p>The first of these two phases can happen in one of there
                ways:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>By pre-processing the stylesheet to make a copy
                        without any <code class="code">css:rule</code> r other CSS Within
                        elements that would cause problems;</p></li><li class="listitem"><p>By post-processing the generated HTML to remove the
                            <code class="code">css:rule</code> elements that were spuriously
                        generated;</p></li><li class="listitem"><p>By modifying the XSLT processor so that it ignores the
                        content of <code class="code">css:rule</code> elements.</p></li></ol></div><p>The first option is easily done using
                    <code class="code">fn:transform()</code> and wrapper XSLT, although care
                must be taken to pass on any stylesheet parameters. However, it
                is not possible in general, because of stylesheet imports that
                might be conditional (depending on <code class="code">use-when</code>
                expressions or XSLT 3 shadow attributes, for example), and
                because package import resolution happens dynamically.</p><p>The second option can however be done with
                    <code class="code">fn:transform()</code>, since the output  documents
                generated by any <code class="code">xsl:result-document</code> elements in
                the transform are not written out but are included in the map
                returned by  <code class="code">fn:transform()</code> and can be
                post-processed.</p><p>The author of this paper wrote both XSLT for option (2) and
                also a Java class that implements XSLT extension elements for
                Saxon which make <code class="code">css:rule</code> and
                    <code class="code">css:media</code> simply return the empty sequence when
                the stylesheet is executed.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar11s04.html" shape="rect">Prev</a></span> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="u" href="ar11s04.html" shape="rect">Up</a></td><td width="40%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar11s04s02.html" shape="rect">Next</a></span></td></tr><tr><td width="40%" align="left" valign="top" rowspan="1" colspan="1"> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="h" href="oxygen-main.html" shape="rect">Home</a></td><td width="40%" align="right" valign="top" rowspan="1" colspan="1"> </td></tr></table></div><div class="footer">Generated by<a class="oxyFooter" href="http://www.oxygenxml.com/xml_webhelp.html" target="_blank" shape="rect">                            
                            &lt;oXygen/&gt; XML WebHelp
                        </a></div></body></html>