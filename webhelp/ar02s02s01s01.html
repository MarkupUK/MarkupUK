
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Summary</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><link rel="home" href="oxygen-main.html" title="Markup UK 2021 Proceedings" /><link rel="up" href="ar02s02s01.html" title="Rule based validation" /><link rel="prev" href="ar02s02s01.html" title="Rule based validation" /><link rel="next" href="ar02s02s01s02.html" title="Shortcomings" /><!--  Generated with Oxygen version 23.1, build number 2021022614.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><script type="text/javascript" xml:space="preserve"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-3.5.1.min.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js" xml:space="preserve"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js?buildId=2021022614" xml:space="preserve"><!----></script></head><body onload="highlightSearchTerm()" class="frmBody"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td colspan="3" rowspan="1"><form name="searchForm" id="searchForm" action="javascript:void(0)" onsubmit="parent.tocwin.SearchToc(this);" method="get" enctype="application/x-www-form-urlencoded"><!----><input type="text" id="textToSearch" name="textToSearch" class="textToSearch" size="30" placeholder="Search" /><!----></form></td></tr><tr><td width="20%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar02s02s01.html" shape="rect">Prev</a></span> </td><th width="60%" align="center" rowspan="1" colspan="1"> </th><td width="20%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar02s02s01s02.html" shape="rect">Next</a></span></td></tr></table><hr /></div><div class="section" id="d5e716"><div class="titlepage"><div><div><h4 class="title">Summary</h4></div></div></div><p>Rule based validation is at the core of Schematron. For Schematron, rule-based
          validation means that a document is considered to be valid if it passes a specified set of
          assertion tests.</p><p>An <em class="glossterm">assertion test</em> is a boolean function over a set of nodes. It
          is associated with zero or more natural-language statements. Schematron uses two elements
          to represent assertions: An assertion expressed as a <code class="sgmltag-element">sch:assert</code>
          element succeeds if the assertion test evaluates to boolean true, an assertion expressed
          as <code class="sgmltag-element">sch:report</code> element succeeds if the assertion test evaluates
          to false. Both use a <code class="sgmltag-attribute">test</code> attribute for the assertion
          test.</p><p>A <em class="glossterm">rule</em> is an unordered set of assertions. The assertion
          elements are grouped into a <code class="sgmltag-element">sch:rule</code> element with a <code class="sgmltag-attribute">context</code> attribute containing a <em class="glossterm">context
            expression</em>. The context expression is an expression that selects nodes from
          the instance document. A rule is said to "fire" if its context expression selects a
          non-empty set of nodes. All assertions of the rule are evaluated for each node of the set.
          A single assertion is checked by evaluating the assertion expression with the respective
          node as context. A rule validates a node if all assertions succeed.</p><p>A <em class="glossterm">pattern</em> is an ordered set of rules. The lexical order of the
          rule elements in the Schematron document acts as an if-then-else switch for nodes of the
          instance document. A node is checked with at most one rule per pattern.</p><p>A <em class="glossterm">schema</em> is an unordered set of patterns. The pattern elements
          are grouped into a <code class="sgmltag-element">sch:schema</code> element. This element has a <code class="sgmltag-attribute">queryBinding</code> attribute with an identifier for the language of
          assertion and context selector expressions.</p><p>Originally Schematron was designed as a schema language solely on top of XSLT. The use
          of XPath and XSLT match expressions was generalized into the concept of a query language
          in the course of the ISO standardization process. [<a class="citation" href="bi01.html#d5e1020" shape="rect"><span class="citation">JELLIFFE2002</span></a>]
          [<a class="citation" href="bi01.html#d5e1025" shape="rect"><span class="citation">JELLIFFE2003</span></a>] A query language is defined by a <em class="glossterm">query
            language binding</em> that specifies the query language for rule context
          expressions and for assertion tests. The initial 2006 specification defined the query
          language binding for XSLT 1.0 [<a class="citation" href="bi01.html#d5e995" shape="rect"><span class="citation">XSLT1</span></a>] as the default query language.
          The later editions added normative query language bindings for XPath 2.0
            [<a class="citation" href="bi01.html#d5e990" shape="rect"><span class="citation">XPATH2</span></a>], XSLT 2.0 [<a class="citation" href="bi01.html#d5e1040" shape="rect"><span class="citation">XSLT2</span></a>], XPath 3.0
            [<a class="citation" href="bi01.html#d5e1045" shape="rect"><span class="citation">XPATH3</span></a>], and XSLT 3.0 [<a class="citation" href="bi01.html#d5e1035" shape="rect"><span class="citation">XSLT3</span></a>]. </p><p>Assertion tests and context expressions are evaluated during validation. They depend
          on a properly initialized <em class="glossterm">evaluation environment</em>. Schematron
          provides two native elements to set up the environment for query language expressions. </p><p>The repeatable <code class="sgmltag-element">sch:ns</code> element is a top-level element that
          defines the available namespace bindings. Namespace bindings have global scope. The
          repeatable <code class="sgmltag-element">sch:let</code> element defines the available variables and
          their values. Variables are globally available or scoped to the containing pattern or
          rule. </p><p>Variables and namespaces can be seen as a common denominator of query languages. The
          2016 and 2020 updates to the specification, on the other hand, forbid the use of <code class="sgmltag-element">sch:let</code> for XPath 2.0 and 3.0. <a href="#ftn.d5e751" class="footnote" shape="rect"><sup class="footnote" id="d5e751">[1]</sup></a></p><p>Defining namespace bindings and variables is not sufficient to evaluate an XSLT
          expression. To set up an evaluation environment for XSLT, Schematron explicitly allows the
          two elements <code class="sgmltag-element">xsl:key</code> and <code class="sgmltag-element">xsl:function</code> as top-level elements.</p><div class="footnotes"><br clear="none" /><hr style="width:100; text-align:left;margin-left: 0" /><div id="ftn.d5e751" class="footnote"><p><a href="#d5e751" class="para" shape="rect"><sup class="para">[1] </sup></a>It is unclear why the working group felt the need to forbid the use of <code class="sgmltag-element">sch:let</code>. All versions of XPath support variable references in
              XPath expressions.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar02s02s01.html" shape="rect">Prev</a></span> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="u" href="ar02s02s01.html" shape="rect">Up</a></td><td width="40%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar02s02s01s02.html" shape="rect">Next</a></span></td></tr><tr><td width="40%" align="left" valign="top" rowspan="1" colspan="1"> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="h" href="oxygen-main.html" shape="rect">Home</a></td><td width="40%" align="right" valign="top" rowspan="1" colspan="1"> </td></tr></table></div><div class="footer">Generated by<a class="oxyFooter" href="http://www.oxygenxml.com/xml_webhelp.html" target="_blank" shape="rect">                            
                            &lt;oXygen/&gt; XML WebHelp
                        </a></div></body></html>