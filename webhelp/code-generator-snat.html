
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Code generator SNAT</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><link rel="home" href="oxygen-main.html" title="Markup UK 2018 Proceedings" /><link rel="up" href="section-metadata-model.html" title="Metadata model SNAT (Source Navigation Annotated Target tree)" /><link rel="prev" href="ar09s04s02s03.html" title="User-defined variables" /><link rel="next" href="section-source-alignment-based-model.html" title="Source alignment based model" /><!--  Generated with Oxygen version 20.0-SNAPSHOT, build number 2018042310.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><script type="text/javascript" xml:space="preserve"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-3.1.1.min.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js" xml:space="preserve"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js?buildId=2018042310" xml:space="preserve"><!----></script></head><body onload="highlightSearchTerm()" class="frmBody"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td colspan="3" rowspan="1"><form name="searchForm" id="searchForm" action="javascript:void(0)" onsubmit="parent.tocwin.SearchToc(this);" method="get" enctype="application/x-www-form-urlencoded"><!----><input type="text" id="textToSearch" name="textToSearch" class="textToSearch" size="30" placeholder="Search" /><!----></form></td></tr><tr><td width="20%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar09s04s02s03.html" shape="rect">Prev</a></span> </td><th width="60%" align="center" rowspan="1" colspan="1"> </th><td width="20%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="section-source-alignment-based-model.html" shape="rect">Next</a></span></td></tr></table><hr /></div><div class="section" id="code-generator-snat"><div class="titlepage"><div><div><h3 class="title">Code generator SNAT</h3></div></div></div><p>A SNAT-based code generator is available at github (<a class="xref" href="bi09.html#xsdplus" title="xsdplus - a toolkit for XSD based tool development" shape="rect">[<abbr class="abbrev">5</abbr>]</a>). It
                generates the code of document transformations defined by a SNAT document. The SNAT
                is prepared by hand-editing an initial version generated from an XSD description of
                the target documents. After changes of the XSD, the SNAT can be upgraded
                automatically. The upgrade ensures that the SNAT is kept in sync with the XSD.
                Usually, the upgrade must be finalized by a limited amount of hand-editing, for
                example adding manual settings for any new items.</p><p>A typical workflow is illustrated by an example in which we assume the use of
                BaseX (<a class="xref" href="bi09.html#basex" title="BaseX – The XML Framework. Lightweight and High-Performance Data Processing." shape="rect">[<abbr class="abbrev">2</abbr>]</a>) as XQuery processor. Let target documents of the
                desired transformation code have a root element <code class="code">&lt;publications&gt;</code> and
                be described by an XSD <code class="code">publications.xsd</code>. The first step is the
                generation of an initial version of a SNAT document
                    (<code class="code">publications.snat.xml</code>):</p><pre class="programlisting" xml:space="preserve">   basex –b "request=<span class="bold"><strong>snat</strong></span>?<span class="bold"><strong>xsd</strong></span>=/a/b/c/publications.xsd,
                          <span class="bold"><strong>ename</strong></span>=publications" 
         –o <span class="italic">publications.snat.xml</span>  
   $HOME_XSDPLUS/<span class="bold"><strong>xsdplus.xq</strong></span></pre><p>After editing the SNAT document, the transformation code
                    (<code class="code">publications.xq</code>) is generated:</p><pre class="programlisting" xml:space="preserve">   basex –b "request=<span class="bold"><strong>snat2xq</strong></span>?<span class="bold"><strong>snat</strong></span>=publications.snat.xml" 
         –o <span class="italic">publications.xq</span>  
   $HOME_XSDPLUS/<span class="bold"><strong>xsdplus.xq</strong></span></pre><p>Given a set of input documents (e.g. <code class="code">books.xml</code>), the transformer can
                be tested, creating a target document <code class="code">publications.xml</code>:</p><pre class="programlisting" xml:space="preserve">   basex –i books.xml –o <span class="italic">publications.xml</span> <span class="bold"><strong>publications.xq</strong></span></pre><p>After changes of the XSD, the SNAT document must be upgraded. After renaming the
                current SNAT document (e.g. to <code class="code">publications.snat.v100.xml</code>), this is
                achieved by the following command:</p><pre class="programlisting" xml:space="preserve">   basex –b "request=<span class="bold"><strong>snat</strong></span>?<span class="bold"><strong>xsd</strong></span>=/a/b/c/publications.xsd,
                          <span class="bold"><strong>ename</strong></span>=publications, 
                          <span class="bold"><strong>upgrade</strong></span>=publications.snat.v100.xml"                
         –o <span class="italic">publications.snat.xml</span>  
   $HOME_XSDPLUS/<span class="bold"><strong>xsdplus.xq</strong></span></pre><p>As a new XSD version typically contains new elements and attributes, the automatic
                upgrade must be followed by hand-editing which supplies the necessary settings not
                yet made.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar09s04s02s03.html" shape="rect">Prev</a></span> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="u" href="section-metadata-model.html" shape="rect">Up</a></td><td width="40%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="section-source-alignment-based-model.html" shape="rect">Next</a></span></td></tr><tr><td width="40%" align="left" valign="top" rowspan="1" colspan="1"> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="h" href="oxygen-main.html" shape="rect">Home</a></td><td width="40%" align="right" valign="top" rowspan="1" colspan="1"> </td></tr></table></div><div class="footer">Generated by<a class="oxyFooter" href="http://www.oxygenxml.com/xml_webhelp.html" target="_blank" shape="rect">                            
                            &lt;oXygen/&gt; XML WebHelp
                        </a></div></body></html>