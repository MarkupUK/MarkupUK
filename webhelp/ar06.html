
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Design and Performance of a Corpus Scanner</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><meta name="description" content="People working with large collections of XML documents often need to know specific characteristics of the documents in the collection in aggregate. For example, an attribute value that only occurs once in a million documents might warrant investigation; an element that was expected but that does not occur anywhere might similarly suggest a problem. People designing transformations or style sheets might find it useful to handle the most commonly occurring elements first. FreqX is an XSLT-based tool that summarizes the various elements, attributes, attribute values, and other details in a collection of XML documents. It can produce several different report formats, including an HTML Web page, a CSV file for a spreadsheet, and of course XML data. It has been run on collections containing tens of thousands of documents, running into tens of gigabytes of XML. Unfortunately, early versions of the tool used large amounts of memory—several times more memory than the actual scanned documents occupied. This made the tool unsuitable for one of its design goals. Recently, the FreqX tool has been improved so that it runs more quickly and uses much less memory. This paper describes some of the design decisions that were made both in the creation of FreqX and in the subsequent revision, and also the process of making the tool support large amounts of data. The tool is written in XSLT 3, and makes use of a number of XPath and XSLT features introduced in that version. Some of these are discussed in the paper. FreqX is publicly available, including full source code, with original development funded by Mulberry Technologies. Suggestions for additional features, as well as reports of problems, are welcomed: the tool is actively maintained. The result of the improvements was a reduction in memory usage from over sixty gigabytes to less than three gigabytes when processing the Early English Books Online corpus of some fifty-three thousand TEI-based XML documents, and a reduction in time from almost six hours before a crash down to between thirty and forty-five minutes with successful output, running in both cases with Saxon 9 on a decade-old computer." /><meta name="keywords" content="XML, DocBook, authoring" /><link rel="home" href="oxygen-main.html" title="Markup UK 2025 Proceedings" /><link rel="up" href="oxygen-main.html" title="Markup UK 2025 Proceedings" /><link rel="prev" href="references.html" title="Bibliography" /><link rel="next" href="ar06s01.html" title="Introduction" /><!--  Generated with Oxygen version 24.0, build number 2022011710.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><script type="text/javascript" xml:space="preserve"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-3.5.1.min.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js" xml:space="preserve"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js?buildId=2022011710" xml:space="preserve"><!----></script></head><body onload="highlightSearchTerm()" class="frmBody"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td colspan="3" rowspan="1"><form name="searchForm" id="searchForm" action="javascript:void(0)" onsubmit="parent.tocwin.SearchToc(this);" method="get" enctype="application/x-www-form-urlencoded"><!----><input type="text" id="textToSearch" name="textToSearch" class="textToSearch" size="30" placeholder="Search" /><!----></form></td></tr><tr><td width="20%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="references.html" shape="rect">Prev</a></span> </td><th width="60%" align="center" rowspan="1" colspan="1"> </th><td width="20%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar06s01.html" shape="rect">Next</a></span></td></tr></table><hr /></div><div xml:lang="en" class="article" id="d5e1873"><div class="titlepage"><div><div><h1 class="title">Design and Performance of a Corpus Scanner</h1></div><div><div class="author"><h3 class="author">Liam Quin</h3><div class="affiliation"><span class="jobtitle">Drudge<br clear="none" /></span><span class="orgname">Delightful Computing<br clear="none" /></span></div><code class="email">&lt;<a class="email" href="mailto:liam@fromoldbooks.org" shape="rect">liam@fromoldbooks.org</a>&gt;</code></div></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><p>People working with large collections of XML documents often need to know
        specific characteristics of the documents in the collection in
        aggregate. For example, an attribute value that only occurs once in a
        million documents might warrant investigation; an element that was
        expected but that does not occur anywhere might similarly suggest a
        problem. People designing transformations or style sheets might find it
        useful to handle the most commonly occurring elements first.</p><p>FreqX is an XSLT-based tool that summarizes the various elements,
        attributes, attribute values, and other details in a collection of XML
        documents. It can produce several different report formats, including an
        HTML Web page, a CSV file for a spreadsheet, and of course XML data. It
        has been run on collections containing tens of thousands of documents,
        running into tens of gigabytes of XML.</p><p>Unfortunately, early versions of the tool used large amounts of
        memory—several times more memory than the actual scanned documents
        occupied. This made the tool unsuitable for one of its design
        goals.</p><p>Recently, the FreqX tool has been improved so that it runs more
        quickly and uses much less memory.</p><p>This paper describes some of the design decisions that were made
        both in the creation of FreqX and in the subsequent revision, and also
        the process of making the tool support large amounts of data.</p><p>The tool is written in XSLT 3, and makes use of a number of XPath
        and XSLT features introduced in that version. Some of these are
        discussed in the paper. FreqX is publicly available, including full
        source code, with original development funded by Mulberry Technologies.
        Suggestions for additional features, as well as reports of problems, are
        welcomed: the tool is actively maintained.</p><p>The result of the improvements was a reduction in memory usage from
        over sixty gigabytes to less than three gigabytes when processing the
        Early English Books Online corpus of some fifty-three thousand TEI-based
        XML documents, and a reduction in time from almost six hours before a
        crash down to between thirty and forty-five minutes with successful
        output, running in both cases with Saxon 9 on a decade-old
        computer.</p></div></div></div><hr /></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="ar06s01.html" shape="rect">Introduction</a></span></dt><dt><span class="section"><a href="ar06s02.html" shape="rect">Tool Requirements and Features</a></span></dt><dd><dl><dt><span class="section"><a href="ar06s02s01.html" shape="rect">Easy to configure and run</a></span></dt><dt><span class="section"><a href="ar06s02s02.html" shape="rect">Convenient to provide inputs</a></span></dt><dt><span class="section"><a href="ar06s02s03.html" shape="rect">Produce multiple forms of report</a></span></dt><dt><span class="section"><a href="ar06s02s04.html" shape="rect">Combine multiple runs into a single report</a></span></dt><dt><span class="section"><a href="ar06s02s05.html" shape="rect">Robust against parse errors</a></span></dt><dt><span class="section"><a href="ar06s02s06.html" shape="rect">Extensible and Maintainable</a></span></dt></dl></dd><dt><span class="section"><a href="customizations.html" shape="rect">Implementation</a></span></dt><dt><span class="section"><a href="ar06s04.html" shape="rect">Memory Usage and Speed</a></span></dt><dt><span class="section"><a href="ar06s05.html" shape="rect">Parsing Errors</a></span></dt><dt><span class="section"><a href="ar06s06.html" shape="rect">Extensibility</a></span></dt><dt><span class="section"><a href="ar06s07.html" shape="rect">Future Work</a></span></dt><dt><span class="section"><a href="ar06s08.html" shape="rect">Conclusion</a></span></dt><dt><span class="appendix"><a href="apc.html" shape="rect">Samples</a></span></dt></dl></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="references.html" shape="rect">Prev</a></span> </td><td width="20%" align="center" rowspan="1" colspan="1"> </td><td width="40%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar06s01.html" shape="rect">Next</a></span></td></tr><tr><td width="40%" align="left" valign="top" rowspan="1" colspan="1"> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="h" href="oxygen-main.html" shape="rect">Home</a></td><td width="40%" align="right" valign="top" rowspan="1" colspan="1"> </td></tr></table></div><div class="footer">Generated by<a class="oxyFooter" href="http://www.oxygenxml.com/xml_webhelp.html" target="_blank" shape="rect">                            
                            &lt;oXygen/&gt; XML WebHelp
                        </a></div></body></html>