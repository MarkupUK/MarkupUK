
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Should an XML Payload be represented as XML or text?</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><link rel="home" href="oxygen-main.html" title="Markup UK 2021 Proceedings" /><link rel="up" href="ar08.html" title="An improved diff3 format using XML: diff3x" /><link rel="prev" href="ar08s04.html" title="Nested Changes" /><link rel="next" href="ar08s06.html" title="Saving Selected Options" /><!--  Generated with Oxygen version 23.1, build number 2021022614.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><script type="text/javascript" xml:space="preserve"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-3.5.1.min.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js" xml:space="preserve"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js?buildId=2021022614" xml:space="preserve"><!----></script></head><body onload="highlightSearchTerm()" class="frmBody"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td colspan="3" rowspan="1"><form name="searchForm" id="searchForm" action="javascript:void(0)" onsubmit="parent.tocwin.SearchToc(this);" method="get" enctype="application/x-www-form-urlencoded"><!----><input type="text" id="textToSearch" name="textToSearch" class="textToSearch" size="30" placeholder="Search" /><!----></form></td></tr><tr><td width="20%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar08s04.html" shape="rect">Prev</a></span> </td><th width="60%" align="center" rowspan="1" colspan="1"> </th><td width="20%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar08s06.html" shape="rect">Next</a></span></td></tr></table><hr /></div><div class="section" id="d5e3459"><div class="titlepage"><div><div><h2 class="title" style="clear: both">Should an XML Payload be represented as XML or text?</h2></div></div></div><p>If our payload is XML, and our carrier is XML, does it make sense to embed the payload
            as XML rather than text? At first sight this seems to be an attractive proposition, and
            an example is shown below. For clarity we have put the diff3x elements into their own
            namespace, using a d: prefix.</p><div class="table" id="d5e3462"><p class="title"><strong>Table 8. XML data example</strong></p><div class="table-contents"><table class="table" summary="XML data example" border="1"><colgroup span="1"><col width="33%" align="left" class="c1" span="1" /><col width="33%" align="left" class="c2" span="1" /><col width="34%" align="left" class="c3" span="1" /></colgroup><thead><tr><th align="left" rowspan="1" colspan="1">A.xml</th><th align="left" rowspan="1" colspan="1">O.xml</th><th align="left" rowspan="1" colspan="1">B.xml</th></tr></thead><tbody><tr><td align="left" rowspan="1" colspan="1">
                            <pre class="programlisting" xml:space="preserve"><strong class="hl-tag" style="color: #000096">&lt;author&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;personname&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;first&gt;</strong>Nigel<strong class="hl-tag" style="color: #000096">&lt;/first&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;last&gt;</strong>Whitaker<strong class="hl-tag" style="color: #000096">&lt;/last&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/personname&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;address&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;st&gt;</strong>Geraldine Rd<strong class="hl-tag" style="color: #000096">&lt;/st&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;city&gt;</strong>Malvern<strong class="hl-tag" style="color: #000096">&lt;/city&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;country&gt;</strong>UK<strong class="hl-tag" style="color: #000096">&lt;/country&gt;</strong>
    
<strong class="hl-tag" style="color: #000096">&lt;/address&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/author&gt;</strong></pre>
                        </td><td align="left" rowspan="1" colspan="1">
                            <pre class="programlisting" xml:space="preserve"><strong class="hl-tag" style="color: #000096">&lt;author&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;personname&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;first&gt;</strong>Nigel<strong class="hl-tag" style="color: #000096">&lt;/first&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;last&gt;</strong>Whitaker<strong class="hl-tag" style="color: #000096">&lt;/last&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/personname&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;address&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;st&gt;</strong>Geraldine Rd<strong class="hl-tag" style="color: #000096">&lt;/st&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;city&gt;</strong>Malvern<strong class="hl-tag" style="color: #000096">&lt;/city&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;country&gt;</strong>UK<strong class="hl-tag" style="color: #000096">&lt;/country&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;post&gt;</strong>WR14 3SZ<strong class="hl-tag" style="color: #000096">&lt;/post&gt;</strong> 
<strong class="hl-tag" style="color: #000096">&lt;/address&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/author&gt;</strong></pre>
                        </td><td align="left" rowspan="1" colspan="1">
                            <pre class="programlisting" xml:space="preserve"><strong class="hl-tag" style="color: #000096">&lt;author&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;personname&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;first&gt;</strong>Nigel<strong class="hl-tag" style="color: #000096">&lt;/first&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;last&gt;</strong>Whitaker<strong class="hl-tag" style="color: #000096">&lt;/last&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/personname&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;address&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;st&gt;</strong>Geraldine Rd<strong class="hl-tag" style="color: #000096">&lt;/st&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;city&gt;</strong>Malvern<strong class="hl-tag" style="color: #000096">&lt;/city&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;country&gt;</strong>UK<strong class="hl-tag" style="color: #000096">&lt;/country&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;post&gt;</strong>PQ9 5XY<strong class="hl-tag" style="color: #000096">&lt;/post&gt;</strong> 
<strong class="hl-tag" style="color: #000096">&lt;/address&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/author&gt;</strong></pre>
                        </td></tr></tbody></table></div></div><br class="table-break" clear="none" /><p>This could be embedded in the XML diff3x carrier as shown below.</p><pre class="programlisting" xml:space="preserve"><strong class="hl-tag" style="color: #000096">&lt;d:diff3x</strong> <span class="hl-attribute" style="color: #F5844C">a</span>=<span class="hl-value" style="color: #993300">"A.xml"</span> <span class="hl-attribute" style="color: #F5844C">b</span>=<span class="hl-value" style="color: #993300">"B.xml"</span> <span class="hl-attribute" style="color: #F5844C">o</span>=<span class="hl-value" style="color: #993300">"O.xml"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;author&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;personname&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;first&gt;</strong>Nigel<strong class="hl-tag" style="color: #000096">&lt;/first&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;last&gt;</strong>Whitaker<strong class="hl-tag" style="color: #000096">&lt;/last&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/personname&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;address&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;st&gt;</strong>Geraldine Rd<strong class="hl-tag" style="color: #000096">&lt;/st&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;city&gt;</strong>Malvern<strong class="hl-tag" style="color: #000096">&lt;/city&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;country&gt;</strong>UK<strong class="hl-tag" style="color: #000096">&lt;/country&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;d:choice3&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;d:a/&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;d:o&gt;</strong>
   <strong class="hl-tag" style="color: #000096">&lt;post&gt;</strong>WR14 3SZ<strong class="hl-tag" style="color: #000096">&lt;/post&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;/d:o&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;d:b&gt;</strong>
   <strong class="hl-tag" style="color: #000096">&lt;post&gt;</strong>PQ9 5XY<strong class="hl-tag" style="color: #000096">&lt;/post&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;/d:b&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;/d:choice3&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/address&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/author&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/d:diff3x&gt;</strong></pre><p>This looks good and useful, but it has limitations. The main one is that it would not
      be possible to show changes to attributes in situ, even if we resorted to XML processing
      instructions. Other approaches to this include representing attribute change by introducing an
      XML element immediately following the end of the start tag.</p><p>Also, it would not be possible to show changes to element tags, e.g. if a <code class="code">&lt;bold&gt;</code>
            was changed to <code class="code">&lt;italic&gt;</code>. </p><p>These limitations could be overcome by making the diff3x more complex but there is no
            good reason to do this because it takes away the primary purpose of the diff3x carrier,
            which is to represent changes to a text file. As an XML payload can be considered to be
            a text file we should treat it as such to be consistent with the handling of JSON or any
            other payload. </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar08s04.html" shape="rect">Prev</a></span> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="u" href="ar08.html" shape="rect">Up</a></td><td width="40%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar08s06.html" shape="rect">Next</a></span></td></tr><tr><td width="40%" align="left" valign="top" rowspan="1" colspan="1"> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="h" href="oxygen-main.html" shape="rect">Home</a></td><td width="40%" align="right" valign="top" rowspan="1" colspan="1"> </td></tr></table></div><div class="footer">Generated by<a class="oxyFooter" href="http://www.oxygenxml.com/xml_webhelp.html" target="_blank" shape="rect">                            
                            &lt;oXygen/&gt; XML WebHelp
                        </a></div></body></html>