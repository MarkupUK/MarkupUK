
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Working with “Others”, the Dual resolvers</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><link rel="home" href="oxygen-main.html" title="Markup UK 2023 Proceedings" /><link rel="up" href="ar13.html" title="A Dependency Management Approach for Document and Data Transformation Projects" /><link rel="prev" href="ar13s10.html" title="Ivy flexibility (resolvers)" /><link rel="next" href="ar13s12.html" title="A step further" /><!--  Generated with Oxygen version 24.0, build number 2021121511.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><script type="text/javascript" xml:space="preserve"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-3.5.1.min.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js" xml:space="preserve"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js?buildId=2021121511" xml:space="preserve"><!----></script></head><body onload="highlightSearchTerm()" class="frmBody"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td colspan="3" rowspan="1"><form name="searchForm" id="searchForm" action="javascript:void(0)" onsubmit="parent.tocwin.SearchToc(this);" method="get" enctype="application/x-www-form-urlencoded"><!----><input type="text" id="textToSearch" name="textToSearch" class="textToSearch" size="30" placeholder="Search" /><!----></form></td></tr><tr><td width="20%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar13s10.html" shape="rect">Prev</a></span> </td><th width="60%" align="center" rowspan="1" colspan="1"> </th><td width="20%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar13s12.html" shape="rect">Next</a></span></td></tr></table><hr /></div><div class="section" id="d5e3867"><div class="titlepage"><div><div><h2 class="title" style="clear: both">Working with “Others”, the Dual resolvers</h2></div></div></div><p> </p><p> A dual resolver is one where we can combine two different repositories, one for the
      artifacts and other for the descriptors (arousa-ivy.xml files).</p><p>We can use it, for example, when we don’t actually manage the artifact repository (we use
      an external one) but we need to use It with our own set of references that we can store
      somewhere else.</p><p>Dual resolvers open a very interesting possibility, since other teams may not be willing
      to adopt practices like dependency management but it is easy to adhere to certain shared
      naming convention between teams when sharing resources.</p><p>With Dual resolvers, as long as the artifacts are placed using a naming convention in a
      shared network resource you can arrange the ivy metadata by yourself.</p><p>We are going to demonstrate this capability using the dual-resolver-data example. In this
      example we are going to relate three dataset files from an external resource. </p><p>We are going to take the customer, part and supplier dataset files from: </p><p><span class="inlinemediaobject"><img src="papers-2023/sanchez/diagrams/dual-resolvers.png" /></span></p><p><a class="link" href="http://aiweb.cs.washington.edu/research/projects/xmltk/xmldata/" target="_top" shape="rect">http://aiweb.cs.washington.edu/research/projects/xmltk/xmldata/</a></p><p>In our ivy files we describe the dependency from the customer ivy file to the part and
      supply ivy file: </p><p>
      </p><pre class="programlisting" xml:space="preserve"><strong class="hl-tag" style="color: #000096">&lt;ivy-module</strong> <span class="hl-attribute" style="color: #F5844C">version</span>=<span class="hl-value" style="color: #993300">"1.1"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;info</strong> <span class="hl-attribute" style="color: #F5844C">organisation</span>=<span class="hl-value" style="color: #993300">"edu.washington.cs.aiweb.tpc-h"</span>
	<span class="hl-attribute" style="color: #F5844C">revision</span>=<span class="hl-value" style="color: #993300">"1.0"</span> <span class="hl-attribute" style="color: #F5844C">module</span>=<span class="hl-value" style="color: #993300">"tpc-h"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;configurations&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;conf</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"default"</span><strong class="hl-tag" style="color: #000096"> /&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;/configurations&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;publications&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;artifact</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"customer"</span> <span class="hl-attribute" style="color: #F5844C">type</span>=<span class="hl-value" style="color: #993300">"data"</span> <span class="hl-attribute" style="color: #F5844C">ext</span>=<span class="hl-value" style="color: #993300">"xml"</span> 
              <span class="hl-attribute" style="color: #F5844C">conf</span>=<span class="hl-value" style="color: #993300">"default"</span><strong class="hl-tag" style="color: #000096"> /&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;/publications&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;dependencies</strong> <span class="hl-attribute" style="color: #F5844C">defaultconf</span>=<span class="hl-value" style="color: #993300">"default"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;dependency</strong> <span class="hl-attribute" style="color: #F5844C">org</span>=<span class="hl-value" style="color: #993300">"edu.washington.cs.aiweb.tpc-h"</span> 
                <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"tpc-h"</span> <span class="hl-attribute" style="color: #F5844C">rev</span>=<span class="hl-value" style="color: #993300">"1.0"</span><strong class="hl-tag" style="color: #000096"> &gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;artifact</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"part"</span> <span class="hl-attribute" style="color: #F5844C">type</span>=<span class="hl-value" style="color: #993300">"data"</span> <span class="hl-attribute" style="color: #F5844C">ext</span>=<span class="hl-value" style="color: #993300">"xml"</span><strong class="hl-tag" style="color: #000096"> /&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/dependency&gt;</strong>  
    <strong class="hl-tag" style="color: #000096">&lt;dependency</strong> <span class="hl-attribute" style="color: #F5844C">org</span>=<span class="hl-value" style="color: #993300">"edu.washington.cs.aiweb.tpc-h"</span> 
                <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"tpc-h"</span> <span class="hl-attribute" style="color: #F5844C">rev</span>=<span class="hl-value" style="color: #993300">"1.0"</span><strong class="hl-tag" style="color: #000096"> &gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;artifact</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"supplier"</span> <span class="hl-attribute" style="color: #F5844C">type</span>=<span class="hl-value" style="color: #993300">"data"</span> <span class="hl-attribute" style="color: #F5844C">ext</span>=<span class="hl-value" style="color: #993300">"xml"</span><strong class="hl-tag" style="color: #000096"> /&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/dependency&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;/dependencies&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/ivy-module&gt;</strong></pre><p>
    </p><p> You can verify that we have added to our internal repository the three ivy files. Also
      we’ve configured the dual resolver pointing to the remote washinton.edu site. </p><p>
      </p><pre class="programlisting" xml:space="preserve"><span class="hl-directive" style="color: maroon">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<strong class="hl-tag" style="color: #000096">&lt;ivysettings&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;property</strong> 
	<span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"dual-example-repository-path"</span>
<span class="hl-attribute" style="color: #F5844C">value</span>=<span class="hl-value" style="color: #993300">"${user.home}/dev/ws/arousaws/arousa-examples/examples/
                                  dual-resolver-data/repository"</span>  
       <span class="hl-attribute" style="color: #F5844C">override</span>=<span class="hl-value" style="color: #993300">"true"</span><strong class="hl-tag" style="color: #000096"> /&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;settings</strong> <span class="hl-attribute" style="color: #F5844C">defaultResolver</span>=<span class="hl-value" style="color: #993300">"dual-example"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>  
    <strong class="hl-tag" style="color: #000096">&lt;resolvers&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;dual</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"dual-example"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;filesystem</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"ivys"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
	<strong class="hl-tag" style="color: #000096">&lt;ivy</strong> <span class="hl-attribute" style="color: #F5844C">pattern</span>=<span class="hl-value" style="color: #993300">"${dual-example-repository-path}/
                                  [module]-ivy-[revision].xml"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;/filesystem&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;url</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"two-patterns-example"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
	<strong class="hl-tag" style="color: #000096">&lt;artifact</strong> <span class="hl-attribute" style="color: #F5844C">pattern</span>=<span class="hl-value" style="color: #993300">"http://aiweb.cs.washington.edu/
     research/projects/xmltk/xmldata/data/[module]/[artifact].[ext]"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;/url&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/dual&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;/resolvers&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/ivysettings&gt;</strong></pre><p>
    </p><p> The first part of the dual resolver points at the ivy descriptors location while the
      second one points to the artifacts. We call the update dependencies with the following
      command.</p><pre class="programlisting" xml:space="preserve">$ arousa update-dependencies</pre><p>
        The call does not only resolve the customer dataset described in the project dependencies, but, as in our repository the three files are described as related, Ivy bring us the three necessary files. </p><p>
      </p><pre class="programlisting" xml:space="preserve"><strong class="hl-tag" style="color: #000096">&lt;ivy-module</strong> <span class="hl-attribute" style="color: #F5844C">version</span>=<span class="hl-value" style="color: #993300">"1.1"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;info</strong> <span class="hl-attribute" style="color: #F5844C">organisation</span>=<span class="hl-value" style="color: #993300">"org.markupuk.arousa.examples.data-download"</span>
	<span class="hl-attribute" style="color: #F5844C">module</span>=<span class="hl-value" style="color: #993300">"data-download-test"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
  
  <strong class="hl-tag" style="color: #000096">&lt;configurations&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;conf</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"default"</span><strong class="hl-tag" style="color: #000096"> /&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;/configurations&gt;</strong>

  <strong class="hl-tag" style="color: #000096">&lt;publications&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;/publications&gt;</strong>
   <strong class="hl-tag" style="color: #000096">&lt;dependencies</strong> <span class="hl-attribute" style="color: #F5844C">defaultconf</span>=<span class="hl-value" style="color: #993300">"default"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;dependency</strong> <span class="hl-attribute" style="color: #F5844C">org</span>=<span class="hl-value" style="color: #993300">"edu.washington.cs.aiweb.tpc-h"</span> 
                <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"tpc-h"</span> <span class="hl-attribute" style="color: #F5844C">rev</span>=<span class="hl-value" style="color: #993300">"1.0"</span><strong class="hl-tag" style="color: #000096"> &gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;artifact</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"customer"</span> <span class="hl-attribute" style="color: #F5844C">type</span>=<span class="hl-value" style="color: #993300">"data"</span> <span class="hl-attribute" style="color: #F5844C">ext</span>=<span class="hl-value" style="color: #993300">"xml"</span><strong class="hl-tag" style="color: #000096"> /&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/dependency&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;/dependencies&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/ivy-module&gt;</strong></pre><p>
    </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar13s10.html" shape="rect">Prev</a></span> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="u" href="ar13.html" shape="rect">Up</a></td><td width="40%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar13s12.html" shape="rect">Next</a></span></td></tr><tr><td width="40%" align="left" valign="top" rowspan="1" colspan="1"> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="h" href="oxygen-main.html" shape="rect">Home</a></td><td width="40%" align="right" valign="top" rowspan="1" colspan="1"> </td></tr></table></div><div class="footer">Generated by<a class="oxyFooter" href="http://www.oxygenxml.com/xml_webhelp.html" target="_blank" shape="rect">                            
                            &lt;oXygen/&gt; XML WebHelp
                        </a></div></body></html>