
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Improving quality-critical XML workflows with XProc 3.0 pipelines</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><meta name="description" content="Orchestrating complex XML pipelines has been a major topic of XML-related software development over the years. Comprehensive techniques have been developed to: Deliver high-quality resultsEnsure that the pipelines can be maintainedAllow the pipelines to be debugged for straightforward troubleshooting The quality demands for the workflow and the produced results can vary: For example, you may find a very maintainable pipeline producing documents with very low quality demands, e.g. the system producing the static website for your local sports club. On the other hand you might find documents with very high quality demands produced by a pipeline that is not easy to maintain and debug. And, of course, the relationship between the quality of the documents and the maintainability of the pipeline producing these documents may change over time. Implementing new quality demands for the documents might have a negative impact on the pipelines quality. And sometimes in the history of developing a pipeline expected to produce documents with high quality demands, you might even decide to start over, as new quality demands for the documents threaten to impair the quality of your pipeline. In this paper, we would like to report about a shared project of our two companies. We had to add new features to a well-established workflow producing documents in the medical sector that come with very high quality demands. As the existing workflow already had some pain points, we decided to start over and to refactor it. And we even decided to change the basic orchestrating technology: Since the existing workflow was based on a combination of Windows batch files calling different programs and some very elaborate XSLT stylesheets, we decided to use XProc 3.0 to orchestrate the workflow, thus doing away with as much shell scripting as possible while keeping the XSLT stylesheets to do the actual transformations. As XProc 3.0 is a relatively new technology for orchestrating document workflows, we think our project might be of some interest to people developing and/or maintaining pipelines for documents with high quality demands. We will first provide some background context for the produced documents and their actual usage to elaborate the specific quality demands. This will be followed by an overview of the existing workflow and a discussion on its pain points and new demands. We will then give an overview of the new XProc 3.0 pipeline developed in the project and discuss some aspects of the used technology. The paperWe would like to thank the reviewers of our abstract for their very helpful comments. A special thank goes out to Geert Bormans whose thoughtful remarks on the abstract helped to improved this paper significantly. concludes with the lessons learned in our project and the key takeaways of our project in a more general context of pipelines producing documents with high quality demands." /><meta name="keywords" content="XML, XProc, XSLT, pipeline, healthcare" /><link rel="home" href="oxygen-main.html" title="Markup UK 2023 Proceedings" /><link rel="up" href="oxygen-main.html" title="Markup UK 2023 Proceedings" /><link rel="prev" href="ar04s08.html" title="Conclusion" /><link rel="next" href="ar05s01.html" title="Introduction and background" /><!--  Generated with Oxygen version 24.0, build number 2021121511.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><script type="text/javascript" xml:space="preserve"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-3.5.1.min.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js" xml:space="preserve"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js?buildId=2021121511" xml:space="preserve"><!----></script></head><body onload="highlightSearchTerm()" class="frmBody"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td colspan="3" rowspan="1"><form name="searchForm" id="searchForm" action="javascript:void(0)" onsubmit="parent.tocwin.SearchToc(this);" method="get" enctype="application/x-www-form-urlencoded"><!----><input type="text" id="textToSearch" name="textToSearch" class="textToSearch" size="30" placeholder="Search" /><!----></form></td></tr><tr><td width="20%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar04s08.html" shape="rect">Prev</a></span> </td><th width="60%" align="center" rowspan="1" colspan="1"> </th><td width="20%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar05s01.html" shape="rect">Next</a></span></td></tr></table><hr /></div><div xml:lang="en" class="article" id="d5e787"><div class="titlepage"><div><div><h1 class="title">Improving quality-critical XML workflows with XProc 3.0 pipelines</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Achim</span> <span class="surname">Berndzen</span></h3><div class="affiliation"><span class="orgname">&lt;xml-project /&gt;<br clear="none" /></span></div><code class="email">&lt;<a class="email" href="mailto:achim.berndzen@xml-project.com" shape="rect">achim.berndzen@xml-project.com</a>&gt;</code></div></div><div><div class="author"><h3 class="author"><span class="firstname">Thorsten</span> <span class="surname">Rohm</span></h3><div class="affiliation"><span class="jobtitle">Head of Content Architecture &amp; Management<br clear="none" /></span><span class="orgname">Thieme Compliance GmbH<br clear="none" /></span></div><code class="email">&lt;<a class="email" href="mailto:thorsten.rohm@thieme-compliance.de" shape="rect">thorsten.rohm@thieme-compliance.de</a>&gt;</code></div></div><div><div xml:lang="" class="abstract"><p class="title"><strong>Abstract</strong></p><p>Orchestrating complex XML pipelines has been a major topic of XML-related software development over the years. Comprehensive techniques have been developed to: 
		</p><div class="orderedlist"><ol class="orderedlist compact" type="1"><li class="listitem"><p>Deliver high-quality results</p></li><li class="listitem"><p>Ensure that the pipelines can be maintained</p></li><li class="listitem"><p>Allow the pipelines to be debugged for straightforward troubleshooting</p></li></ol></div><p>
	</p><p>The quality demands for the workflow and the produced results can vary: For example, you may find a very maintainable pipeline producing documents with very low quality demands, e.g. the system producing the static website for your local sports club. On the other hand you might find documents with very high quality demands produced by a pipeline that is not easy to maintain and debug. And, of course, the relationship between the quality of the documents and the maintainability of the pipeline producing these documents may change over time. Implementing new quality demands for the documents might have a negative impact on the pipelines quality. And sometimes in the history of developing a pipeline expected to produce documents with high quality demands, you might even decide to start over, as new quality demands for the documents threaten to impair the quality of your pipeline.</p><p>In this paper, we would like to report about a shared project of our two companies. We had to add new features to a well-established workflow producing documents in the medical sector that come with very high quality demands. As the existing workflow already had some pain points, we decided to start over and to refactor it. And we even decided to change the basic orchestrating technology: Since the existing workflow was based on a combination of <span class="productname">Windows</span> batch files calling different programs and some very elaborate <span class="productname">XSLT</span> stylesheets, we decided to use <span class="productname">XProc 3.0</span> to orchestrate the workflow, thus doing away with as much shell scripting as possible while keeping the <span class="productname">XSLT</span> stylesheets to do the actual transformations.</p><p>As <span class="productname">XProc 3.0</span> is a relatively new technology for orchestrating document workflows, we think our project might be of some interest to people developing and/or maintaining pipelines for documents with high quality demands. We will first provide some background context for the produced documents and their actual usage to elaborate the specific quality demands. This will be followed by an overview of the existing workflow and a discussion on its pain points and new demands. We will then give an overview of the new <span class="productname">XProc 3.0</span> pipeline developed in the project and discuss some aspects of the used technology. The paper<a href="#ftn.d5e851" class="footnote" shape="rect"><sup class="footnote" id="d5e851">[4]</sup></a> concludes with the lessons learned in our project and the key takeaways of our project in a more general context of pipelines producing documents with high quality demands.</p><div class="footnotes"><br clear="none" /><hr style="width:100; text-align:left;margin-left: 0" /><div id="ftn.d5e851" class="footnote"><p><a href="#d5e851" class="para" shape="rect"><sup class="para">[4] </sup></a>We would like to thank the reviewers of our abstract for their very helpful comments. A special thank goes out to Geert Bormans whose thoughtful remarks on the abstract helped to improved this paper significantly.</p></div></div></div></div></div><hr /></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="ar05s01.html" shape="rect">Introduction and background</a></span></dt><dd><dl><dt><span class="section"><a href="ar05s01s01.html" shape="rect">About <span class="orgname">Thieme Compliance GmbH</span> and patient education leaflets</a></span></dt><dt><span class="section"><a href="ar05s01s02.html" shape="rect">About <span class="orgname">&lt;xml-project /&gt;</span> and <span class="productname">XProc</span></a></span></dt></dl></dd><dt><span class="section"><a href="ar05s02.html" shape="rect">Introduction to existing batches</a></span></dt><dd><dl><dt><span class="section"><a href="ar05s02s01.html" shape="rect">Batch <span class="productname">“fragengruppe_2_evidence”</span></a></span></dt><dt><span class="section"><a href="ar05s02s02.html" shape="rect">Batch <span class="productname">“fragengruppe_2_FHIR-Questionnaire”</span></a></span></dt></dl></dd><dt><span class="section"><a href="ar05s03.html" shape="rect">Pain points of the existing batches</a></span></dt><dd><dl><dt><span class="section"><a href="ar05s03s01.html" shape="rect">Lacking of flexibility for inserting additional XSLT steps (in between)</a></span></dt><dt><span class="section"><a href="ar05s03s02.html" shape="rect">No easy way to debug the intermediate results of each <acronym class="acronym">XSLT</acronym> step</a></span></dt><dt><span class="section"><a href="ar05s03s03.html" shape="rect">Too many tools means too many dependencies</a></span></dt></dl></dd><dt><span class="section"><a href="ar05s04.html" shape="rect">New requirements for next version</a></span></dt><dd><dl><dt><span class="section"><a href="ar05s04s01.html" shape="rect">Future-proof approach and improved maintainability by adding a separate orchestration layer</a></span></dt><dt><span class="section"><a href="ar05s04s02.html" shape="rect">Increased quality through validation of XML sources using <span class="productname">T<sub>0</sub> XSD</span> as well as validation of XML results using specific versions of <span class="productname">T<sub>0</sub> DTD</span></a></span></dt><dt><span class="section"><a href="ar05s04s03.html" shape="rect">Increased quality by additional validation of <acronym class="acronym">XML</acronym> results using <span class="productname">Schematron</span></a></span></dt><dt><span class="section"><a href="ar05s04s04.html" shape="rect">Summarised, formatted and easily comprehensible log files</a></span></dt><dt><span class="section"><a href="ar05s04s05.html" shape="rect">Performance improvement by omitting unnecessary images from the Zip archive</a></span></dt><dt><span class="section"><a href="ar05s04s06.html" shape="rect">Limiting processing to specific sources from the source folder</a></span></dt></dl></dd><dt><span class="section"><a href="ar05s05.html" shape="rect">New system based on <span class="productname">XProc 3.0</span></a></span></dt><dt><span class="section"><a href="ar05s06.html" shape="rect">Takeaways</a></span></dt><dd><dl><dt><span class="section"><a href="ar05s06s01.html" shape="rect">Smooth transition to <span class="productname">XProc 3.0</span></a></span></dt><dt><span class="section"><a href="ar05s06s02.html" shape="rect"><span class="productname">MorganaXProc-IIIse</span> worked well and could even be improved over the course of the project</a></span></dt><dt><span class="section"><a href="ar05s06s03.html" shape="rect">Serialisation is now done by <span class="productname">MorganaXProc</span> and no longer by <span class="productname">Saxon</span></a></span></dt><dt><span class="section"><a href="ar05s06s04.html" shape="rect">Performance problems with <acronym class="acronym">FHIR</acronym> XML schema</a></span></dt><dt><span class="section"><a href="ar05s06s05.html" shape="rect">XProc pipeline optimisation by loading stylesheets only once at the beginning</a></span></dt><dt><span class="section"><a href="ar05s06s06.html" shape="rect">Feature request for <span class="productname">XProc</span>: please add <code class="sgmltag-element">&lt;p:validate-with-dtd&gt;</code></a></span></dt></dl></dd><dt><span class="bibliography"><a href="references.html" shape="rect">Bibliography</a></span></dt></dl></div><div class="footnotes"><br clear="none" /><hr style="width:100; text-align:left;margin-left: 0" /><div id="ftn.d5e851" class="footnote"><p><a href="#d5e851" class="para" shape="rect"><sup class="para">[4] </sup></a>We would like to thank the reviewers of our abstract for their very helpful comments. A special thank goes out to Geert Bormans whose thoughtful remarks on the abstract helped to improved this paper significantly.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar04s08.html" shape="rect">Prev</a></span> </td><td width="20%" align="center" rowspan="1" colspan="1"> </td><td width="40%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar05s01.html" shape="rect">Next</a></span></td></tr><tr><td width="40%" align="left" valign="top" rowspan="1" colspan="1"> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="h" href="oxygen-main.html" shape="rect">Home</a></td><td width="40%" align="right" valign="top" rowspan="1" colspan="1"> </td></tr></table></div><div class="footer">Generated by<a class="oxyFooter" href="http://www.oxygenxml.com/xml_webhelp.html" target="_blank" shape="rect">                            
                            &lt;oXygen/&gt; XML WebHelp
                        </a></div></body></html>