
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Titles</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><link rel="home" href="oxygen-main.html" title="Markup UK 2021 Proceedings" /><link rel="up" href="ar10s04.html" title="DocBook" /><link rel="prev" href="ar10s04.html" title="DocBook" /><link rel="next" href="ar10s04s02.html" title="Other customisations" /><!--  Generated with Oxygen version 23.1, build number 2021022614.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><script type="text/javascript" xml:space="preserve"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-3.5.1.min.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js" xml:space="preserve"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js?buildId=2021022614" xml:space="preserve"><!----></script></head><body onload="highlightSearchTerm()" class="frmBody"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td colspan="3" rowspan="1"><form name="searchForm" id="searchForm" action="javascript:void(0)" onsubmit="parent.tocwin.SearchToc(this);" method="get" enctype="application/x-www-form-urlencoded"><!----><input type="text" id="textToSearch" name="textToSearch" class="textToSearch" size="30" placeholder="Search" /><!----></form></td></tr><tr><td width="20%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar10s04.html" shape="rect">Prev</a></span> </td><th width="60%" align="center" rowspan="1" colspan="1"> </th><td width="20%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar10s04s02.html" shape="rect">Next</a></span></td></tr></table><hr /></div><div class="section" id="d5e4056"><div class="titlepage"><div><div><h3 class="title">Titles</h3></div></div></div><p>The DocBook XSLT 1.0 stylesheets support a templating mechanism for customising
				the title page, table of contents, and section titles. The template file is XML, of
				course. A template file is transformed into an XSLT module that is included when the
				DocBook source is transformed into XSL-FO. The template file is a mix of:</p><div xmlns:svg="http://www.w3.org/2000/svg" class="itemizedlist"><ul class="itemizedlist" style=""><li class="listitem"><p>Elements
				and attributes specific to the template mechanism</p></li><li class="listitem"><p>Elements corresponding to the DocBook elements to be handled at that point</p></li><li class="listitem"><p>Attribute values
				corresponding to XSL Formatting Objects to generate</p></li><li class="listitem"><p>Literal XSL property
				attributes to generate in the output XSL-FO.</p></li></ul></div><p>The templating mechanism does save a
				lot of work maintaining XSLT templates, but there is a learning curve to
				understanding the roles of the different elements and how they work together.</p><p>This is the beginning of the template for the front matter of an article:</p><pre class="programlisting" xml:space="preserve"><strong class="hl-tag" style="color: #000096">&lt;t:titlepage</strong> <span class="hl-attribute" style="color: #F5844C">t:element</span>=<span class="hl-value" style="color: #993300">"article"</span> <span class="hl-attribute" style="color: #F5844C">t:wrapper</span>=<span class="hl-value" style="color: #993300">"fo:block-container"</span>
	     <span class="hl-attribute" style="color: #F5844C">span</span>=<span class="hl-value" style="color: #993300">"all"</span> <span class="hl-attribute" style="color: #F5844C">font-family</span>=<span class="hl-value" style="color: #993300">"{$title.fontset}"</span>
	     <span class="hl-attribute" style="color: #F5844C">padding-bottom</span>=<span class="hl-value" style="color: #993300">"1lh"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;t:titlepage-content</strong> <span class="hl-attribute" style="color: #F5844C">t:side</span>=<span class="hl-value" style="color: #993300">"recto"</span> <span class="hl-attribute" style="color: #F5844C">start-indent</span>=<span class="hl-value" style="color: #993300">"0pt"</span> <span class="hl-attribute" style="color: #F5844C">text-align</span>=<span class="hl-value" style="color: #993300">"left"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;t:wrapper</strong> <span class="hl-attribute" style="color: #F5844C">t:wrapper</span>=<span class="hl-value" style="color: #993300">"fo:block"</span> <span class="hl-attribute" style="color: #F5844C">background-color</span>=<span class="hl-value" style="color: #993300">"{$muk.background}"</span>
	       <span class="hl-attribute" style="color: #F5844C">axf:border-radius</span>=<span class="hl-value" style="color: #993300">"{$muk.border-radius}"</span> <span class="hl-attribute" style="color: #F5844C">margin-top</span>=<span class="hl-value" style="color: #993300">"20mm"</span>
	       <span class="hl-attribute" style="color: #F5844C">margin-left</span>=<span class="hl-value" style="color: #993300">"-150pt"</span> <span class="hl-attribute" style="color: #F5844C">padding-left</span>=<span class="hl-value" style="color: #993300">"150pt"</span> <span class="hl-attribute" style="color: #F5844C">margin-right</span>=<span class="hl-value" style="color: #993300">"0"</span>
	       <span class="hl-attribute" style="color: #F5844C">padding</span>=<span class="hl-value" style="color: #993300">"{$muk.border-radius}"</span> <span class="hl-attribute" style="color: #F5844C">padding-bottom</span>=<span class="hl-value" style="color: #993300">"0.25mm"</span>
	       <span class="hl-attribute" style="color: #F5844C">axf:hanging-punctuation</span>=<span class="hl-value" style="color: #993300">"start allow-end"</span>
	       <span class="hl-attribute" style="color: #F5844C">color</span>=<span class="hl-value" style="color: #993300">"{$muk.blue}"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;title</strong> <span class="hl-attribute" style="color: #F5844C">t:named-template</span>=<span class="hl-value" style="color: #993300">"component.title"</span>
	     <span class="hl-attribute" style="color: #F5844C">param:node</span>=<span class="hl-value" style="color: #993300">"ancestor-or-self::article[1]"</span>
	     <span class="hl-attribute" style="color: #F5844C">keep-with-next.within-column</span>=<span class="hl-value" style="color: #993300">"always"</span> <span class="hl-attribute" style="color: #F5844C">font-weight</span>=<span class="hl-value" style="color: #993300">"normal"</span>
	     <span class="hl-attribute" style="color: #F5844C">font-size</span>=<span class="hl-value" style="color: #993300">"30pt"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;subtitle</strong> <span class="hl-attribute" style="color: #F5844C">font-size</span>=<span class="hl-value" style="color: #993300">"20pt"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/t:wrapper&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;productname</strong> <span class="hl-attribute" style="color: #F5844C">param:node</span>=<span class="hl-value" style="color: #993300">"ancestor-or-self::article[1]"</span>
		 <span class="hl-attribute" style="color: #F5844C">keep-with-next.within-column</span>=<span class="hl-value" style="color: #993300">"always"</span> <span class="hl-attribute" style="color: #F5844C">font-size</span>=<span class="hl-value" style="color: #993300">"30pt"</span>
		 <span class="hl-attribute" style="color: #F5844C">font-weight</span>=<span class="hl-value" style="color: #993300">"bold"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;corpauthor</strong> <span class="hl-attribute" style="color: #F5844C">space-before</span>=<span class="hl-value" style="color: #993300">"0.5em"</span>
                <span class="hl-attribute" style="color: #F5844C">font-size</span>=<span class="hl-value" style="color: #993300">"{$author.font-size}"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;authorgroup</strong> <span class="hl-attribute" style="color: #F5844C">space-before</span>=<span class="hl-value" style="color: #993300">"0.5em"</span>
                 <span class="hl-attribute" style="color: #F5844C">font-size</span>=<span class="hl-value" style="color: #993300">"{$author.font-size}"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;author</strong> <span class="hl-attribute" style="color: #F5844C">space-before</span>=<span class="hl-value" style="color: #993300">"0.5em"</span>
            <span class="hl-attribute" style="color: #F5844C">font-size</span>=<span class="hl-value" style="color: #993300">"{$author.font-size}"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong></pre><p>Elements and attributes with the <code class="code">t</code> namespace prefix, such as <code class="code">t:titlepage</code>, are specific to the templating mechanism. The <code class="filename">template.xsl</code> stylesheet in the DocBook XSLT 1.0 distribution uses those to generate a stylesheet that can be included in the customisation. See Chapter 11, Title page customization, in <em class="citetitle">DocBook XSL: The Complete Guide</em> [<a href="graham-references.html#docbookxsl" class="biblioref" title="[DOCBOOK-XSL]" shape="rect"><abbr class="abbrev">DOCBOOK-XSL</abbr></a>] for further information. Note that the <code class="code">t:wrapper</code> element to wrap the definitions for other elements is an Antenna House extension that has only just been submitted as a pull request for the XSLT 1.0 stylesheets.</p><p>Elements in the default namespace have no namespace URI. These elements correspond to DocBook elements. Depending on a setting in the template file, the elements are processed either in the order shown in the template or in document order as they appear in the DocBook document.</p><p>The generated stylesheet includes an <code class="code">xsl:template</code> for each of these elements. That template generates the element specified by the <code class="code">t:wrapper</code> attribute of the <code class="code">t:titlepage</code> element. Unprefixed attributes of the template element are copied as literal attributes on the wrapper element in the generated XSLT. The attribute values are not evaluated when the attributes are copied to the generated stylesheet, but they are evaluated when the generated stylesheet is used as part of a customisation, at which point any attribute value templates are evaluated. The generated stylesheet uses a sophisticated (or confusing, depending on your familiarity with it) arrangement of attribute sets and mode names to make it possible to influence the processing of particular elements in specific or less specific contexts.</p><p>This is the template generated for <code class="code">author</code> in the previous example:</p><pre class="programlisting" xml:space="preserve"><strong class="hl-tag" style="color: #000096">&lt;xsl:template</strong> <span class="hl-attribute" style="color: #F5844C">match</span>=<span class="hl-value" style="color: #993300">"author"</span> <span class="hl-attribute" style="color: #F5844C">mode</span>=<span class="hl-value" style="color: #993300">"article.titlepage.recto.auto.mode"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;fo:block-container</strong> <span class="hl-attribute" style="color: #F5844C">xmlns:fo</span>=<span class="hl-value" style="color: #993300">"http://www.w3.org/1999/XSL/Format"</span>
                      <span class="hl-attribute" style="color: #F5844C">xsl:use-attribute-sets</span>=<span class="hl-value" style="color: #993300">"article.titlepage.recto.style"</span>
                      <span class="hl-attribute" style="color: #F5844C">space-before</span>=<span class="hl-value" style="color: #993300">"0.5em"</span> <span class="hl-attribute" style="color: #F5844C">font-size</span>=<span class="hl-value" style="color: #993300">"{$author.font-size}"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;xsl:apply-templates</strong> <span class="hl-attribute" style="color: #F5844C">select</span>=<span class="hl-value" style="color: #993300">"."</span> <span class="hl-attribute" style="color: #F5844C">mode</span>=<span class="hl-value" style="color: #993300">"article.titlepage.recto.mode"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;/fo:block-container&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/xsl:template&gt;</strong></pre><p>When <code class="code">t:named-template</code> is present, the generated template calls the named template instead of finding a matching template for the current element. Parameters to be passed to the named template are defined using attributes with the <code class="code">param</code> prefix; for example, <code class="code">param:node="ancestor-or-self::article[1]"</code>.</p><p>This is the template generated for <code class="code">title</code> in the previous example:</p><pre class="programlisting" xml:space="preserve"><strong class="hl-tag" style="color: #000096">&lt;xsl:template</strong> <span class="hl-attribute" style="color: #F5844C">match</span>=<span class="hl-value" style="color: #993300">"title"</span> <span class="hl-attribute" style="color: #F5844C">mode</span>=<span class="hl-value" style="color: #993300">"article.titlepage.recto.auto.mode"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;fo:block-container</strong> <span class="hl-attribute" style="color: #F5844C">xmlns:fo</span>=<span class="hl-value" style="color: #993300">"http://www.w3.org/1999/XSL/Format"</span>
      <span class="hl-attribute" style="color: #F5844C">xsl:use-attribute-sets</span>=<span class="hl-value" style="color: #993300">"article.titlepage.recto.style"</span>
      <span class="hl-attribute" style="color: #F5844C">keep-with-next.within-column</span>=<span class="hl-value" style="color: #993300">"always"</span> <span class="hl-attribute" style="color: #F5844C">font-weight</span>=<span class="hl-value" style="color: #993300">"normal"</span>
      <span class="hl-attribute" style="color: #F5844C">font-size</span>=<span class="hl-value" style="color: #993300">"30pt"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;xsl:call-template</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"component.title"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;xsl:with-param</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"node"</span> <span class="hl-attribute" style="color: #F5844C">select</span>=<span class="hl-value" style="color: #993300">"ancestor-or-self::article[1]"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/xsl:call-template&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;/fo:block-container&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/xsl:template&gt;</strong></pre></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar10s04.html" shape="rect">Prev</a></span> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="u" href="ar10s04.html" shape="rect">Up</a></td><td width="40%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar10s04s02.html" shape="rect">Next</a></span></td></tr><tr><td width="40%" align="left" valign="top" rowspan="1" colspan="1"> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="h" href="oxygen-main.html" shape="rect">Home</a></td><td width="40%" align="right" valign="top" rowspan="1" colspan="1"> </td></tr></table></div><div class="footer">Generated by<a class="oxyFooter" href="http://www.oxygenxml.com/xml_webhelp.html" target="_blank" shape="rect">                            
                            &lt;oXygen/&gt; XML WebHelp
                        </a></div></body></html>