
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Generate Quick Fixes Dynamically</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><link rel="home" href="oxygen-main.html" title="Markup UK 2019 Proceedings" /><link rel="up" href="ar09.html" title="Taking Schematron QuickFix To The Next Level" /><link rel="prev" href="ar09s05.html" title="Multilingual Support in SQF" /><link rel="next" href="ar09s07.html" title="Conclusion" /><!--  Generated with Oxygen version 21.0, build number 2019032613.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><script type="text/javascript" xml:space="preserve"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-3.1.1.min.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js" xml:space="preserve"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js?buildId=2019032613" xml:space="preserve"><!----></script></head><body onload="highlightSearchTerm()" class="frmBody"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td colspan="3" rowspan="1"><form name="searchForm" id="searchForm" action="javascript:void(0)" onsubmit="parent.tocwin.SearchToc(this);" method="get" enctype="application/x-www-form-urlencoded"><!----><input type="text" id="textToSearch" name="textToSearch" class="textToSearch" size="30" placeholder="Search" /><!----></form></td></tr><tr><td width="20%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar09s05.html" shape="rect">Prev</a></span> </td><th width="60%" align="center" rowspan="1" colspan="1"> </th><td width="20%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar09s07.html" shape="rect">Next</a></span></td></tr></table><hr /></div><div class="section" id="d5e4366"><div class="titlepage"><div><div><h2 class="title" style="clear: both">Generate Quick Fixes Dynamically</h2></div></div></div><p>Another important addition in the second draft of the Schematron QuickFix
            specification is the possibility to define generic quick fixes. Using a generic quick
            fix, the developer can generate multiple similar fixes using the values provided by an
            XPath expression.</p><p>In the first draft of the SQF specification, it was not possible to have a dynamic
            amount of quick fixes for a Schematron error. The developer should specify the quick
            fixes presented for a Schematron error. They could only control whether or not a quick
            fix will be presented to the user by using the <code class="code">@use-when</code> attribute.</p><p>To create a generic quick fix, the SQF developer needs to set the
                <code class="code">use-for-each</code> attribute for the <code class="code">sqf:fix</code> element. The value
            of the <code class="code">use-for-each</code> attribute must be an XPath expression. For each item of
            the evaluated XPath expression, a quick fix is provided to the user. The context inside
            of the quick fix will be the current Schematron error context. To access the value of
            the current item from the XPath expression, a built-in variable
                <code class="code">$sqf:current</code> can be used.</p><div class="example" id="d5e4376"><p class="title"><strong>Example 20. A Generic QuickFix that provides a quick fix to remove each item from a
                list</strong></p><div class="example-contents"><pre class="programlisting" xml:space="preserve"><strong class="hl-tag" style="color: #000096">&lt;sqf:fix</strong> <span class="hl-attribute" style="color: #F5844C">id</span>=<span class="hl-value" style="color: #993300">"removeAnyItem"</span> <span class="hl-attribute" style="color: #F5844C">use-for-each</span>=<span class="hl-value" style="color: #993300">"1 to count(li)"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;sqf:description&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;sqf:title&gt;</strong>Remove item #<strong class="hl-tag" style="color: #000096">&lt;sch:value-of</strong> <span class="hl-attribute" style="color: #F5844C">select</span>=<span class="hl-value" style="color: #993300">"$sqf:current"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong><strong class="hl-tag" style="color: #000096">&lt;/sqf:title&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/sqf:description&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;sqf:delete</strong> <span class="hl-attribute" style="color: #F5844C">match</span>=<span class="hl-value" style="color: #993300">"li[$sqf:current]"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/sqf:fix&gt;</strong></pre></div></div><br class="example-break" clear="none" /><p>Using generic quick fixes, the SQF developer can now provide a dynamic number of fix
            actions depending on a set of values from the current document or they can use an XPath
            expression to get the values from external documents.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar09s05.html" shape="rect">Prev</a></span> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="u" href="ar09.html" shape="rect">Up</a></td><td width="40%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar09s07.html" shape="rect">Next</a></span></td></tr><tr><td width="40%" align="left" valign="top" rowspan="1" colspan="1"> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="h" href="oxygen-main.html" shape="rect">Home</a></td><td width="40%" align="right" valign="top" rowspan="1" colspan="1"> </td></tr></table></div><div class="footer">Generated by<a class="oxyFooter" href="http://www.oxygenxml.com/xml_webhelp.html" target="_blank" shape="rect">                            
                            &lt;oXygen/&gt; XML WebHelp
                        </a></div></body></html>