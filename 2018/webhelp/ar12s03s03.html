
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Streaming</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><link rel="home" href="oxygen-main.html" title="Markup UK 2018 Proceedings" /><link rel="up" href="ar12s03.html" title="Design Considerations" /><link rel="prev" href="ar12s03s02.html" title="Subset of XSLT 3.0" /><link rel="next" href="ar12s03s04.html" title="Typed data" /><!--  Generated with Oxygen version 20.0-SNAPSHOT, build number 2018032809.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><script type="text/javascript" xml:space="preserve"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-3.1.1.min.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js" xml:space="preserve"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js?buildId=2018032809" xml:space="preserve"><!----></script></head><body onload="highlightSearchTerm()" class="frmBody"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td colspan="3" rowspan="1"><form name="searchForm" id="searchForm" action="javascript:void(0)" onsubmit="parent.tocwin.SearchToc(this);" method="get" enctype="application/x-www-form-urlencoded"><!----><input type="text" id="textToSearch" name="textToSearch" class="textToSearch" size="30" placeholder="Search" /><!----></form></td></tr><tr><td width="20%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar12s03s02.html" shape="rect">Prev</a></span> </td><th width="60%" align="center" rowspan="1" colspan="1"> </th><td width="20%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar12s03s04.html" shape="rect">Next</a></span></td></tr></table><hr /></div><div class="sect2" id="d5e5100"><div class="titlepage"><div><div><h3 class="title">Streaming</h3></div></div></div><p>In an ideal world, we would use an XSLT 3.0 streaming transformation to process the input instance document, so that
            it does not need to be held completely in memory.</p><p>The existing Saxon validator, written in Java, uses streamed processing whereever possible. The main case where streaming
            is not possible is in evaluating XSD 1.1 assertions: assertions can use arbitrary XPath expressions to process the subtree of
            the source document rooted at the element to which the assertion applies. The existing validator starts building an in-memory tree
            when it encounters such an assertion; in the absence of such assertions it is full streamed. It would be possible in principle
            to avoid building the subtree if the assertion uses a streamable subset of XPath, but the validator does not attempt this.</p><p>Emulating this behaviour in the new XSLT validator might be possible, but it is not easy, and in the current project we
            have not attempted it. One of the main reasons for this is that there are other XSD features (notably the evaluation of uniqueness
            and referential constraints) for which a streamed implementation is even more difficult.</p><p>The main constraint here is that <code class="code">xsl:evaluate</code> (the XSLT 3.0 instruction to perform evaluation of a dynamically-constructed
            XPath expression) is not streamable, because static analysis has no access to the XPath expression in question, and streamability
            analysis is always done statically. Since <code class="code">xsl:evaluate</code> is essential to enable XSD 1.1 features such as assertions
                and type alternatives to be evaluated, this is a stopper. We might be able to get around it by using the alternative design
                considered (a generated stylesheet in which the XPath expressions become statically analyzable), but we decided not to
                go that way.
            </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar12s03s02.html" shape="rect">Prev</a></span> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="u" href="ar12s03.html" shape="rect">Up</a></td><td width="40%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar12s03s04.html" shape="rect">Next</a></span></td></tr><tr><td width="40%" align="left" valign="top" rowspan="1" colspan="1"> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="h" href="oxygen-main.html" shape="rect">Home</a></td><td width="40%" align="right" valign="top" rowspan="1" colspan="1"> </td></tr></table></div><div class="footer">Generated by<a class="oxyFooter" href="http://www.oxygenxml.com/xml_webhelp.html" target="_blank" shape="rect">                            
                            &lt;oXygen/&gt; XML WebHelp
                        </a></div></body></html>