
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Multilingual Support in SQF</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><link rel="home" href="oxygen-main.html" title="Markup UK 2019 Proceedings" /><link rel="up" href="ar09.html" title="Taking Schematron QuickFix To The Next Level" /><link rel="prev" href="ar09s04.html" title="Abstract Quick Fixes" /><link rel="next" href="ar09s06.html" title="Generate Quick Fixes Dynamically" /><!--  Generated with Oxygen version 21.0, build number 2019032613.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><script type="text/javascript" xml:space="preserve"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-3.1.1.min.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js" xml:space="preserve"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js?buildId=2019032613" xml:space="preserve"><!----></script></head><body onload="highlightSearchTerm()" class="frmBody"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td colspan="3" rowspan="1"><form name="searchForm" id="searchForm" action="javascript:void(0)" onsubmit="parent.tocwin.SearchToc(this);" method="get" enctype="application/x-www-form-urlencoded"><!----><input type="text" id="textToSearch" name="textToSearch" class="textToSearch" size="30" placeholder="Search" /><!----></form></td></tr><tr><td width="20%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar09s04.html" shape="rect">Prev</a></span> </td><th width="60%" align="center" rowspan="1" colspan="1"> </th><td width="20%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar09s06.html" shape="rect">Next</a></span></td></tr></table><hr /></div><div class="section" id="d5e4333"><div class="titlepage"><div><div><h2 class="title" style="clear: both">Multilingual Support in SQF</h2></div></div></div><p>The second draft of the Schematron QuickFix specification comes with an important
            addition, the localization concept for quick fixes. It is based on the Schematron
            localization concept, but it is more flexible.</p><p>A new attribute was added for the <code class="code">sqf:title</code> and <code class="code">sqf:p</code>
            elements, the <code class="code">@ref</code> attribute. In the value of the <code class="code">@ref</code>
            attribute, you can specify one or more IDs that point to different translations of the
            current phrase. The specification does not restrict the implementations of the
                <code class="code">@ref</code> attribute to a specific reference structure.</p><div class="example" id="d5e4342"><p class="title"><strong>Example 17. Schematron QuickFix that has multilingual support</strong></p><div class="example-contents"><pre class="programlisting" xml:space="preserve"> <strong class="hl-tag" style="color: #000096">&lt;sqf:fix</strong> <span class="hl-attribute" style="color: #F5844C">id</span>=<span class="hl-value" style="color: #993300">"addBone"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
     <strong class="hl-tag" style="color: #000096">&lt;sqf:description&gt;</strong>
         <strong class="hl-tag" style="color: #000096">&lt;sqf:title</strong> <span class="hl-attribute" style="color: #F5844C">ref</span>=<span class="hl-value" style="color: #993300">"fix_en fix_de"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>Add a bone<strong class="hl-tag" style="color: #000096">&lt;/sqf:title&gt;</strong>
         <strong class="hl-tag" style="color: #000096">&lt;sqf:p</strong> <span class="hl-attribute" style="color: #F5844C">ref</span>=<span class="hl-value" style="color: #993300">"fix_d_en fix_d_de"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>Add a bone as child element<strong class="hl-tag" style="color: #000096">&lt;/sqf:p&gt;</strong>
     <strong class="hl-tag" style="color: #000096">&lt;/sqf:description&gt;</strong>
     <strong class="hl-tag" style="color: #000096">&lt;sqf:add</strong> <span class="hl-attribute" style="color: #F5844C">node-type</span>=<span class="hl-value" style="color: #993300">"element"</span> <span class="hl-attribute" style="color: #F5844C">target</span>=<span class="hl-value" style="color: #993300">"bone"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;/sqf:fix&gt;</strong></pre></div></div><br class="example-break" clear="none" /><p>One possible implementation of the multilingual support in SQF is to use the
            Schematron <code class="code">diagnostics</code> element. You can define a diagnostic for each
            referenced <code class="code">id</code> and specify the language of the diagnostic message using the
                <code class="code">xml:lang</code> attribute on the <code class="code">sch:diagnostic</code> element or on its
            parent.</p><div class="example" id="d5e4350"><p class="title"><strong>Example 18. Schematron diagnostics </strong></p><div class="example-contents"><pre class="programlisting" xml:space="preserve"> <strong class="hl-tag" style="color: #000096">&lt;sch:diagnostics&gt;</strong>
     <strong class="hl-tag" style="color: #000096">&lt;sch:diagnostic</strong> 
        <span class="hl-attribute" style="color: #F5844C">id</span>=<span class="hl-value" style="color: #993300">"fix_en"</span> 
        <span class="hl-attribute" style="color: #F5844C">xml:lang</span>=<span class="hl-value" style="color: #993300">"en"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>Add a bone<strong class="hl-tag" style="color: #000096">&lt;/sch:diagnostic&gt;</strong>
     <strong class="hl-tag" style="color: #000096">&lt;sch:diagnostic</strong> 
        <span class="hl-attribute" style="color: #F5844C">id</span>=<span class="hl-value" style="color: #993300">"fix_de"</span> 
        <span class="hl-attribute" style="color: #F5844C">xml:lang</span>=<span class="hl-value" style="color: #993300">"de"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>Fügen Sie einen Knochen hinzu<strong class="hl-tag" style="color: #000096">&lt;/sch:diagnostic&gt;</strong>
 <strong class="hl-tag" style="color: #000096">&lt;/sch:diagnostics&gt;</strong></pre></div></div><br class="example-break" clear="none" /><p>This implementation conforms with the Schematron standard that also uses diagnostic
            for localization. It is easier to translate the messages because the Schematron messages
            and quick fix messages are kept together, and another important aspect is that it will
            be the same implementation used for both Schematron and SQF messages.</p><p>There are also some issues with this implementation. One of them is that you cannot
            have IDs with the same name in your document because the diagnostic uses XML IDs.
            Another issue is that SQF will depend on the Schematron language and cannot be
            encapsulated separately.</p><p>Another implementation of quick fix localization is to use Java Property Files. In
            this case, the localized text phrases should be stored in external files, grouped by
            language. These files should be placed parallel to the Schematron schema with the name
            pattern <code class="code">${fileName}_${lang}.xml</code>. The <code class="code">${fileName}</code> should be the
            name of the Schematron schema but without the extension. The <code class="code">@ref</code> attribute
            from the quick fix must reference the property key.</p><div class="example" id="d5e4359"><p class="title"><strong>Example 19. Java Property File for German translation </strong></p><div class="example-contents"><pre class="programlisting" xml:space="preserve"><strong class="hl-tag" style="color: blue">&lt;!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd"&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;properties&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;entry</strong> <span class="hl-attribute" style="color: #F5844C">key</span>=<span class="hl-value" style="color: #993300">"dog.addBone.title"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>Füge einen Knochen hinzu<strong class="hl-tag" style="color: #000096">&lt;/entry&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;entry</strong> <span class="hl-attribute" style="color: #F5844C">key</span>=<span class="hl-value" style="color: #993300">"dog.addBone.p"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>Der Hund wird einen Knochen erhalten.<strong class="hl-tag" style="color: #000096">&lt;/entry&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/properties&gt;</strong></pre></div></div><p><br class="example-break" clear="none" />In contrast to the references to <code class="code">sch:diagnostic</code> elements, in this
            case, it is not necessary to make any changes in the Schematron schema to introduce a
            new language. You just have to add a file with the name (for example
                <code class="code">localized_fr.xml</code>) in the same folder of the Schematron file (for
            example <code class="code">localized.sch</code>). </p><p>However, this needs a different implementation than the standard Schematron, and the
            Schematron messages and the SQF messages will be in different locations.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar09s04.html" shape="rect">Prev</a></span> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="u" href="ar09.html" shape="rect">Up</a></td><td width="40%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar09s06.html" shape="rect">Next</a></span></td></tr><tr><td width="40%" align="left" valign="top" rowspan="1" colspan="1"> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="h" href="oxygen-main.html" shape="rect">Home</a></td><td width="40%" align="right" valign="top" rowspan="1" colspan="1"> </td></tr></table></div><div class="footer">Generated by<a class="oxyFooter" href="http://www.oxygenxml.com/xml_webhelp.html" target="_blank" shape="rect">                            
                            &lt;oXygen/&gt; XML WebHelp
                        </a></div></body></html>