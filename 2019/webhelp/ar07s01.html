
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Introduction and Background</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><link rel="home" href="oxygen-main.html" title="Markup UK 2019 Proceedings" /><link rel="up" href="ar07.html" title="An Improved diff3 Format for Changes and Conflicts in Tree Structures" /><link rel="prev" href="ar07.html" title="An Improved diff3 Format for Changes and Conflicts in Tree Structures" /><link rel="next" href="ar07s02.html" title="How diff3 Delimits the Extent of Changes and Conflicts" /><!--  Generated with Oxygen version 21.0, build number 2019032613.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><script type="text/javascript" xml:space="preserve"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-3.1.1.min.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js" xml:space="preserve"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js?buildId=2019032613" xml:space="preserve"><!----></script></head><body onload="highlightSearchTerm()" class="frmBody"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td colspan="3" rowspan="1"><form name="searchForm" id="searchForm" action="javascript:void(0)" onsubmit="parent.tocwin.SearchToc(this);" method="get" enctype="application/x-www-form-urlencoded"><!----><input type="text" id="textToSearch" name="textToSearch" class="textToSearch" size="30" placeholder="Search" /><!----></form></td></tr><tr><td width="20%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar07.html" shape="rect">Prev</a></span> </td><th width="60%" align="center" rowspan="1" colspan="1"> </th><td width="20%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar07s02.html" shape="rect">Next</a></span></td></tr></table><hr /></div><div class="section" id="d5e3078"><div class="titlepage"><div><div><h2 class="title" style="clear: both">Introduction and Background</h2></div></div></div><p>This paper is focused on the diff3 format rather than the diff3 executable
            application. In this paper, we will consider the diff3 format from GNU diffutils [<a class="xref" href="bi07.html#diffutils" title="GNU Diffutils" shape="rect">1</a>]. There are many possible outputs from diff3, but the one we
            are interested in is the one that provides a merged file result with conflicts marked
            up, i.e., the '-m' option on the command line. </p><p>The diff3 format can present information that is used in a three-way merge. It is a
            derivative of the two-way diff change format that uses a subset of the change markers
            (it does not include the ancestor information, but does use left and right angle
            brackets to delimit the two inputs). Many users do not invoke diff3 directly; instead,
            it is often invoked by a version control system such as git or mercurial when the users
            merge a branch, cherry-pick, rebase or change branches with working directory changes. </p><p>The format can be used for resolving changes directly, perhaps using a simple text editor,
            and this was a common mode of operation with early version control systems. It can also
            be suitable for use with a GUI to provide accept/reject changes, resulting in a new
            version of the file with the conflicts resolved.</p><p>In order to better understand the format itself, we will provide some background on
            how the diff3 tool identifies areas of conflict We will not go into any details about
            the limitations of using line-based comparison tools on tree-structured data, which is a
            subject that has been explored elsewhere and whose limitations are well known in
            principle if not in detail, as are a number of different ways to make a line-based
            comparison work better with tree-structured data, e.g., re-formatting into some
            canonical form. </p><p>It is possible to do a better job of comparison for XML and JSON if the comparison
            engine is aware of the tree structure. The issue then is how to represent the change in
            a way that is suitable for other systems, for example, Visual Studio Code [<a class="xref" href="bi07.html#vscode" title="Visual Studio Code User Guide: Using Version Control in VS Code" shape="rect">2</a>], which understands the diff3 format. With some ingenuity,
            certain changes can be represented so that accepting or rejecting the change results in
            a well-formed output. However, such a representation is not always possible when, for
            example, start and corresponding end tags have been added or deleted, or when changes
            are nested.</p><p>We will propose a way that the diff3 format could be extended to handle ‘connected
            changes’ where the acceptance of one change requires the acceptance (or rejection) of a
            connected change, for example, to keep start/end tags or braces balanced. We will
            explore the difficulties in trying to extend it further to handle nested changes and
            propose a way to use XML or JSON to achieve this in a way that is more suited to those
            technology stacks.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar07.html" shape="rect">Prev</a></span> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="u" href="ar07.html" shape="rect">Up</a></td><td width="40%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar07s02.html" shape="rect">Next</a></span></td></tr><tr><td width="40%" align="left" valign="top" rowspan="1" colspan="1"> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="h" href="oxygen-main.html" shape="rect">Home</a></td><td width="40%" align="right" valign="top" rowspan="1" colspan="1"> </td></tr></table></div><div class="footer">Generated by<a class="oxyFooter" href="http://www.oxygenxml.com/xml_webhelp.html" target="_blank" shape="rect">                            
                            &lt;oXygen/&gt; XML WebHelp
                        </a></div></body></html>