
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Abstract Quick Fixes</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><link rel="home" href="oxygen-main.html" title="Markup UK 2019 Proceedings" /><link rel="up" href="ar09.html" title="Taking Schematron QuickFix To The Next Level" /><link rel="prev" href="ar09s03s06.html" title="SQF User Input Dialog" /><link rel="next" href="ar09s05.html" title="Multilingual Support in SQF" /><!--  Generated with Oxygen version 21.0, build number 2019032613.  --><link rel="stylesheet" type="text/css" href="oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><script type="text/javascript" xml:space="preserve"><!--
          
          var prefix = "index.html";
          
          --></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery-3.1.1.min.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.cookie.js" xml:space="preserve"><!----></script><script type="text/javascript" src="oxygen-webhelp/resources/js/jquery.highlight-3.js" xml:space="preserve"><!----></script><script type="text/javascript" charset="utf-8" src="oxygen-webhelp/resources/js/webhelp_topic.js?buildId=2019032613" xml:space="preserve"><!----></script></head><body onload="highlightSearchTerm()" class="frmBody"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td colspan="3" rowspan="1"><form name="searchForm" id="searchForm" action="javascript:void(0)" onsubmit="parent.tocwin.SearchToc(this);" method="get" enctype="application/x-www-form-urlencoded"><!----><input type="text" id="textToSearch" name="textToSearch" class="textToSearch" size="30" placeholder="Search" /><!----></form></td></tr><tr><td width="20%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar09s03s06.html" shape="rect">Prev</a></span> </td><th width="60%" align="center" rowspan="1" colspan="1"> </th><td width="20%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar09s05.html" shape="rect">Next</a></span></td></tr></table><hr /></div><div class="section" id="d5e4313"><div class="titlepage"><div><div><h2 class="title" style="clear: both">Abstract Quick Fixes</h2></div></div></div><p>The Schematron QuickFix language is a simple language, and has just four types of
            operations that can be performed (add, delete, replace, and string replace). Being a
            simple language, it is easy to learn and use, and also easy to implement by
            applications. </p><p>Sometimes the developers that create the quick fixes need to use other types of
            operations (such as wrap, unwrap, rename, or join). They expect to have these operations
            defined in the language. Defining more operations in the language will help them create
            the quick fixes more easy, but this means that the language will be more complicated to
            learn and harder to be implemented by applications. A solution to this problem is to
            define a library of generic quick fixes that can be used for other types of
            operations.</p><p>A library of quick fixes can be implemented using abstract quick fixes. An abstract
            quick fix can be defined as a quick fix that has abstract parameters defined at the
            beginning of an <code class="code">sqf:fix</code> element.</p><div class="example" id="d5e4319"><p class="title"><strong>Example 14. Schematron abstract quick fix that can be used to rename a generic
                element</strong></p><div class="example-contents"><pre class="programlisting" xml:space="preserve"><strong class="hl-tag" style="color: #000096">&lt;sqf:fix</strong> <span class="hl-attribute" style="color: #F5844C">id</span>=<span class="hl-value" style="color: #993300">"renameElement"</span> <span class="hl-attribute" style="color: #F5844C">role</span>=<span class="hl-value" style="color: #993300">"replace"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;sqf:param</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"element"</span> <span class="hl-attribute" style="color: #F5844C">abstract</span>=<span class="hl-value" style="color: #993300">"true"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;sqf:param</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"newName"</span> <span class="hl-attribute" style="color: #F5844C">abstract</span>=<span class="hl-value" style="color: #993300">"true"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;sqf:description&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;sqf:title&gt;</strong>Rename '$element' element in '$newName'<strong class="hl-tag" style="color: #000096">&lt;/sqf:title&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/sqf:description&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;sqf:replace</strong> 
        <span class="hl-attribute" style="color: #F5844C">match</span>=<span class="hl-value" style="color: #993300">"."</span>
        <span class="hl-attribute" style="color: #F5844C">target</span>=<span class="hl-value" style="color: #993300">"$newName"</span> 
        <span class="hl-attribute" style="color: #F5844C">node-type</span>=<span class="hl-value" style="color: #993300">"element"</span> 
            <span class="hl-attribute" style="color: #F5844C">select</span>=<span class="hl-value" style="color: #993300">"node()"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/sqf:fix&gt;</strong></pre></div></div><br class="example-break" clear="none" /><p>An abstract quick fix can be instantiated from an abstract pattern. The pattern must
            have all the parameters declared in the quick fix, and the quick fix must declare all
            the abstract parameters that are used. Abstract parameters cannot be used as normal
            XPath variables. The reference of the abstract parameter will be replaced by the value
            specified in the abstract pattern.</p><div class="example" id="d5e4323"><p class="title"><strong>Example 15. Schematron abstract pattern that reference an abstract quick fix </strong></p><div class="example-contents"><pre class="programlisting" xml:space="preserve"><strong class="hl-tag" style="color: #000096">&lt;sch:pattern</strong> <span class="hl-attribute" style="color: #F5844C">id</span>=<span class="hl-value" style="color: #993300">"elementNotAllowed"</span> <span class="hl-attribute" style="color: #F5844C">abstract</span>=<span class="hl-value" style="color: #993300">"true"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;sch:rule</strong> <span class="hl-attribute" style="color: #F5844C">context</span>=<span class="hl-value" style="color: #993300">"$element"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;sch:assert</strong> <span class="hl-attribute" style="color: #F5844C">test</span>=<span class="hl-value" style="color: #993300">"false()"</span> <span class="hl-attribute" style="color: #F5844C">sqf:fix</span>=<span class="hl-value" style="color: #993300">"renameElement"</span><strong class="hl-tag" style="color: #000096">&gt;</strong> 
            Element '$element' not allowed, use '$newName' instead.
        <strong class="hl-tag" style="color: #000096">&lt;/sch:assert&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/sch:rule&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/sch:pattern&gt;</strong></pre></div></div><br class="example-break" clear="none" /><p>The abstract pattern can be instantiated by providing different values for the
            parameters. Therefore, you can quickly adapt to multiple variants of XML formats and
            provide rules and quick fixes that will allow the user to correct the problems.</p><div class="example" id="d5e4327"><p class="title"><strong>Example 16. Schematron abstract pattern instantiation</strong></p><div class="example-contents"><pre class="programlisting" xml:space="preserve"><strong class="hl-tag" style="color: #000096">&lt;sch:pattern</strong> <span class="hl-attribute" style="color: #F5844C">is-a</span>=<span class="hl-value" style="color: #993300">"elementNotAllowed"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;sch:param</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"element"</span> <span class="hl-attribute" style="color: #F5844C">value</span>=<span class="hl-value" style="color: #993300">"orderedlist"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;sch:param</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"newName"</span> <span class="hl-attribute" style="color: #F5844C">value</span>=<span class="hl-value" style="color: #993300">"itemizedlist"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/sch:pattern&gt;</strong></pre></div></div><br class="example-break" clear="none" /><p>Another solution for providing other quick fix actions without using abstract patterns
            is to use the <a class="link" href="http://schematron-quickfix.github.io/sqf/publishing-snapshots/March2018Draft/spec/SQFSpec.html#param.call-fix" target="_top" shape="rect"><code class="code">sqf:call-fix</code></a> element. </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left" rowspan="1" colspan="1"><span class="navprev"><a accesskey="p" href="ar09s03s06.html" shape="rect">Prev</a></span> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="u" href="ar09.html" shape="rect">Up</a></td><td width="40%" align="right" rowspan="1" colspan="1"> <span class="navnext"><a accesskey="n" href="ar09s05.html" shape="rect">Next</a></span></td></tr><tr><td width="40%" align="left" valign="top" rowspan="1" colspan="1"> </td><td width="20%" align="center" rowspan="1" colspan="1"><a accesskey="h" href="oxygen-main.html" shape="rect">Home</a></td><td width="40%" align="right" valign="top" rowspan="1" colspan="1"> </td></tr></table></div><div class="footer">Generated by<a class="oxyFooter" href="http://www.oxygenxml.com/xml_webhelp.html" target="_blank" shape="rect">                            
                            &lt;oXygen/&gt; XML WebHelp
                        </a></div></body></html>